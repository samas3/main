/* =========================================
   1. 基础样式 (IPC 风格)
   ========================================= */
body {
    background-color: #0d1117; /* 深空蓝黑 */
    color: #c9d1d9;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    height: 100vh;
    margin: 0;
    overflow: hidden;
    user-select: none;
}

/* =========================================
   2. 开局设置弹窗 (Setup Modal)
   ========================================= */
#setup-modal {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(13, 17, 23, 0.95);
    backdrop-filter: blur(10px);
    z-index: 999;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

.modal-content {
    background: #161b22;
    border: 2px solid #30363d;
    padding: 40px;
    border-radius: 20px;
    text-align: center;
    box-shadow: 0 0 50px rgba(0,0,0,0.8);
    width: 500px;
}

.modal-title {
    color: #e3b341;
    font-size: 28px;
    margin-bottom: 30px;
    text-transform: uppercase;
    letter-spacing: 2px;
    border-bottom: 1px solid #30363d;
    padding-bottom: 15px;
}

.input-group { margin-bottom: 30px; }
.input-group label { display: block; margin-bottom: 10px; color: #8b949e; }
.gold-input {
    background: #0d1117; border: 2px solid #30363d; color: #ffd700;
    font-size: 24px; padding: 10px; border-radius: 8px; width: 150px; text-align: center;
}

.env-options { display: flex; gap: 20px; justify-content: center; margin-bottom: 30px; }
.env-card {
    background: #21262d; border: 2px solid #30363d; border-radius: 12px;
    padding: 20px; width: 180px; cursor: pointer; transition: all 0.2s;
}
.env-card:hover { transform: translateY(-5px); background: #30363d; }
.env-card.selected {
    border-color: #58a6ff;
    background: rgba(88, 166, 255, 0.1);
    box-shadow: 0 0 15px rgba(88, 166, 255, 0.3);
}

.btn-start {
    background: linear-gradient(90deg, #1f6feb, #58a6ff);
    border: none; color: white; padding: 15px 50px; font-size: 18px;
    border-radius: 50px; cursor: pointer; font-weight: bold;
    box-shadow: 0 5px 15px rgba(31, 111, 235, 0.4);
}
.btn-start:active { transform: scale(0.95); }

/* =========================================
   3. 主游戏界面 (Main Game Interface)
   ========================================= */
#game-interface {
    display: none;
    flex-direction: column;
    align-items: center;
    width: 100%;
    height: 100%;
}

/* 顶部栏 */
.header-ui {
    display: flex; gap: 40px; background: rgba(22, 27, 34, 0.9);
    padding: 15px 40px; border: 1px solid #30363d; border-radius: 0 0 20px 20px;
    margin-bottom: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.5); align-items: center;
}
.gold-display { font-size: 28px; font-weight: bold; color: #e3b341; display: flex; align-items: center; }

/* 备战席区域 */
.bench-area {
    background: rgba(255, 255, 255, 0.05); padding: 20px;
    border-radius: 12px; border: 1px dashed #30363d;
    margin-top: 50px; margin-bottom: auto;
    display: flex;
    flex-direction: column; 
    gap: 15px; 
}

.bench-row {
    display: flex;
    justify-content: center; 
    gap: 10px; 
}

.bench-slot {
    width: 80px; height: 80px; background: #161b22;
    border: 2px solid #30363d; border-radius: 8px;
    display: flex; justify-content: center; align-items: center;
}

/* 商店区域 */
.shop-container {
    width: 100%; max-width: 1000px; height: 260px;
    background: linear-gradient(0deg, #13171f 0%, #1c232e 100%);
    border-top: 2px solid #e3b341; padding: 20px;
    display: flex; box-sizing: border-box;
    position: relative;
}

.controls {
    display: flex; flex-direction: column; align-items: center;
    margin-right: 20px; justify-content: center;
}
.btn-refresh {
    width: 90px; height: 90px; border-radius: 50%;
    background: linear-gradient(135deg, #e3b341, #b08828);
    border: 4px solid #fff; color: #1c232e; font-weight: bold; font-size: 18px;
    cursor: pointer;
    box-shadow: 0 0 20px rgba(227, 179, 65, 0.4);
}
.btn-refresh:active { transform: scale(0.95); }

.card-list { display: flex; gap: 15px; flex-grow: 1; }

.card {
    flex: 1; background: #21262d; border: 1px solid #30363d;
    border-radius: 8px; cursor: pointer; position: relative;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    transition: all 0.2s;
}
.card:hover { transform: translateY(-10px); background: #262c36; }

.card-name { font-size: 18px; font-weight: bold; margin-bottom: 10px; z-index: 2; }
.card-cost { background: rgba(0,0,0,0.6); padding: 2px 10px; border-radius: 10px; font-size: 14px; color: #ffd700; z-index: 2; }


/* 稀有度颜色示例 */
.rarity-1 { border-bottom: 4px solid #a8a8a8; box-shadow: inset 0 -30px 60px rgba(168,168,168,0.1); }
.rarity-2 { border-bottom: 4px solid #3fb950; box-shadow: inset 0 -30px 60px rgba(63,185,80,0.1); }
.rarity-3 { border-bottom: 4px solid #58a6ff; box-shadow: inset 0 -30px 60px rgba(88,166,255,0.1); }
.rarity-4 { border-bottom: 4px solid #a371f7; box-shadow: inset 0 -30px 60px rgba(163,113,247,0.1); }
.rarity-5 { border-bottom: 4px solid #ffd700; box-shadow: inset 0 -30px 60px rgba(255,215,0,0.1); }

.card.sold-out { opacity: 0.2; pointer-events: none; filter: grayscale(100%); }

/* 抖动动画 */
.shake { animation: shake 0.4s; }
@keyframes shake { 0%, 100% {transform: translateX(0);} 25% {transform: translateX(-5px);} 75% {transform: translateX(5px);} }

/* 新增：等级显示样式 */
#level-display {
    font-size: 24px;
    font-weight: bold;
    color: #ffd700; /* 金色 */
    text-align: center;
    margin-bottom: 5px;
    text-shadow: 0 0 3px black;
}

/* 重新定位“出战”按钮到商店区域的右上方 */
#btn-combat {
    position: absolute; 
    right: 20px; /* 调整到容器右侧 */
    top: -40px; /* 向上移动到 shop-container 外部（商店上方） */
    padding: 8px 30px; /* 稍微缩小以适应布局 */
    background-color: #e30000;
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 3px #990000;
    transition: background-color 0.2s, box-shadow 0.2s;
    z-index: 10; 
}

#btn-combat:hover {
    background-color: #ff3333;
}

#btn-combat:active {
    box-shadow: 0 1px #990000;
    transform: translateY(2px);
}

/* Lv. 6 的样式保持不变 */
#level-display {
    font-size: 24px;
    font-weight: bold;
    color: #ffd700;
    text-align: center;
    margin-bottom: 5px;
    text-shadow: 0 0 3px black;
}